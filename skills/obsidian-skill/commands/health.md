# Commande: /obs-health

Diagnostic complet de la santÃ© du vault Obsidian.

## Syntaxe

```
/obs-health [options]
```

## Modes

### /obs-health (complet)

Analyse complÃ¨te du vault :

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ¥ SANTÃ‰ DU VAULT                         â•‘
â•‘                    Knowledge                                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                              â•‘
â•‘  ğŸ“ Chemin: C:\Users\r2d2\Documents\Knowledge                â•‘
â•‘  ğŸ“… Analyse: 2026-02-04 14:30:22                             â•‘
â•‘                                                              â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â•‘
â•‘                                                              â•‘
â•‘  SCORE GLOBAL: 78/100                                        â•‘
â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘              â•‘
â•‘                                                              â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â•‘
â•‘                                                              â•‘
â•‘  ğŸ“Š STATISTIQUES:                                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ Notes totales       : 456                               â”‚ â•‘
â•‘  â”‚ Mots totaux         : 125,430                           â”‚ â•‘
â•‘  â”‚ Liens internes      : 1,234                             â”‚ â•‘
â•‘  â”‚ Tags uniques        : 89                                â”‚ â•‘
â•‘  â”‚ Attachments         : 156 (234 MB)                      â”‚ â•‘
â•‘  â”‚ Taille vault        : 289 MB                            â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                              â•‘
â•‘  ğŸ” PROBLÃˆMES DÃ‰TECTÃ‰S:                                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ âŒ Liens cassÃ©s           : 3      (-5 pts)             â”‚ â•‘
â•‘  â”‚ âš ï¸ Notes orphelines       : 12     (-8 pts)             â”‚ â•‘
â•‘  â”‚ âš ï¸ Tags incohÃ©rents       : 5      (-4 pts)             â”‚ â•‘
â•‘  â”‚ âœ… Doublons               : 0      (OK)                 â”‚ â•‘
â•‘  â”‚ âš ï¸ Frontmatter manquant   : 23     (-5 pts)             â”‚ â•‘
â•‘  â”‚ â„¹ï¸ Attachments orphelins  : 8      (info)               â”‚ â•‘
â•‘  â”‚ âœ… Notes vides            : 0      (OK)                 â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                              â•‘
â•‘  ğŸ“ˆ TENDANCES (30 jours):                                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ Notes crÃ©Ã©es        : +45                               â”‚ â•‘
â•‘  â”‚ Notes modifiÃ©es     : 123                               â”‚ â•‘
â•‘  â”‚ Liens ajoutÃ©s       : +234                              â”‚ â•‘
â•‘  â”‚ Score Ã©volution     : +3 pts                            â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                              â•‘
â•‘  ğŸ’¡ RECOMMANDATIONS PRIORITAIRES:                            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ 1. [URGENT] RÃ©parer 3 liens cassÃ©s                      â”‚ â•‘
â•‘  â”‚    â†’ /obs-links fix                                     â”‚ â•‘
â•‘  â”‚                                                         â”‚ â•‘
â•‘  â”‚ 2. [IMPORTANT] Connecter 12 notes orphelines            â”‚ â•‘
â•‘  â”‚    â†’ /obs-links suggest                                 â”‚ â•‘
â•‘  â”‚                                                         â”‚ â•‘
â•‘  â”‚ 3. [SUGGÃ‰RÃ‰] Normaliser 5 tags similaires               â”‚ â•‘
â•‘  â”‚    â†’ /obs-tags merge                                    â”‚ â•‘
â•‘  â”‚                                                         â”‚ â•‘
â•‘  â”‚ 4. [OPTIONNEL] Ajouter frontmatter Ã  23 notes           â”‚ â•‘
â•‘  â”‚    â†’ /obs-frontmatter add                               â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### /obs-health --quick

Check rapide (30 secondes) :

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¥ QUICK HEALTH CHECK                                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                              â•‘
â•‘  Score: 78/100  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘                         â•‘
â•‘                                                              â•‘
â•‘  âŒ 3 liens cassÃ©s                                           â•‘
â•‘  âš ï¸ 12 notes orphelines                                      â•‘
â•‘  âœ… Pas de doublons                                          â•‘
â•‘                                                              â•‘
â•‘  â†’ /obs-health pour dÃ©tails complets                         â•‘
â•‘                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### /obs-health --report

GÃ©nÃ¨re un rapport Markdown dÃ©taillÃ© :

```powershell
/obs-health --report --output="Health-Report-2026-02-04.md"
```

## Script PowerShell

```powershell
function Get-VaultHealth {
    param(
        [string]$VaultPath = "$env:USERPROFILE\Documents\Knowledge",
        [switch]$Quick,
        [switch]$Report
    )
    
    $StartTime = Get-Date
    $Score = 100
    $Issues = @()
    
    Write-Host "`nğŸ¥ Analyse du vault: $VaultPath`n" -ForegroundColor Cyan
    
    # === STATISTIQUES DE BASE ===
    $Notes = Get-ChildItem -Path $VaultPath -Recurse -Filter "*.md" -ErrorAction SilentlyContinue
    $Attachments = Get-ChildItem -Path $VaultPath -Recurse -Include "*.png","*.jpg","*.jpeg","*.gif","*.pdf","*.webp" -ErrorAction SilentlyContinue
    
    $Stats = @{
        TotalNotes = $Notes.Count
        TotalAttachments = $Attachments.Count
        TotalSize = ($Notes + $Attachments | Measure-Object -Property Length -Sum).Sum
        TotalWords = 0
        TotalLinks = 0
        TotalTags = @()
    }
    
    # === ANALYSE DES NOTES ===
    $AllLinks = @{}
    $AllBacklinks = @{}
    $BrokenLinks = @()
    $NoteNames = $Notes | ForEach-Object { $_.BaseName }
    
    foreach ($Note in $Notes) {
        $Content = Get-Content $Note.FullName -Raw -ErrorAction SilentlyContinue
        if (!$Content) { continue }
        
        # Compter mots
        $Stats.TotalWords += ($Content -split '\s+').Count
        
        # Extraire liens
        $Links = [regex]::Matches($Content, '\[\[([^\]|]+)(?:\|[^\]]+)?\]\]')
        $Stats.TotalLinks += $Links.Count
        
        foreach ($Link in $Links) {
            $Target = $Link.Groups[1].Value
            
            # VÃ©rifier si lien cassÃ©
            if ($Target -notin $NoteNames -and $Target -notmatch '^https?://') {
                $BrokenLinks += [PSCustomObject]@{
                    Source = $Note.Name
                    Target = $Target
                }
            }
            
            # Collecter backlinks
            if (!$AllBacklinks[$Target]) { $AllBacklinks[$Target] = @() }
            $AllBacklinks[$Target] += $Note.BaseName
        }
        
        # Extraire tags
        $Tags = [regex]::Matches($Content, '#[\w/-]+') | ForEach-Object { $_.Value }
        $Stats.TotalTags += $Tags
        
        # Collecter liens sortants
        $AllLinks[$Note.BaseName] = $Links | ForEach-Object { $_.Groups[1].Value }
    }
    
    # === DÃ‰TECTION DES PROBLÃˆMES ===
    
    # 1. Liens cassÃ©s (-5 pts par lien, max -20)
    $BrokenCount = ($BrokenLinks | Select-Object -Unique Source, Target).Count
    if ($BrokenCount -gt 0) {
        $Penalty = [Math]::Min($BrokenCount * 5, 20)
        $Score -= $Penalty
        $Issues += [PSCustomObject]@{
            Type = "ERROR"
            Category = "Liens cassÃ©s"
            Count = $BrokenCount
            Penalty = $Penalty
            Fix = "/obs-links fix"
        }
    }
    
    # 2. Notes orphelines (-1 pt par note, max -15)
    $Orphans = $Notes | Where-Object {
        $Name = $_.BaseName
        $HasBacklinks = $AllBacklinks[$Name].Count -gt 0
        $HasOutlinks = $AllLinks[$Name].Count -gt 0
        !$HasBacklinks -and !$HasOutlinks -and $Name -notmatch '^_|^INDEX|^README'
    }
    if ($Orphans.Count -gt 0) {
        $Penalty = [Math]::Min($Orphans.Count, 15)
        $Score -= $Penalty
        $Issues += [PSCustomObject]@{
            Type = "WARNING"
            Category = "Notes orphelines"
            Count = $Orphans.Count
            Penalty = $Penalty
            Fix = "/obs-links suggest"
        }
    }
    
    # 3. Tags similaires/incohÃ©rents
    $UniqueTags = $Stats.TotalTags | Select-Object -Unique
    $SimilarTags = @()
    foreach ($Tag in $UniqueTags) {
        $Similar = $UniqueTags | Where-Object { 
            $_ -ne $Tag -and (
                $_.ToLower() -eq $Tag.ToLower() -or
                $_ -replace '-', '' -eq ($Tag -replace '-', '')
            )
        }
        if ($Similar) { $SimilarTags += $Tag }
    }
    if ($SimilarTags.Count -gt 0) {
        $Penalty = [Math]::Min($SimilarTags.Count, 10)
        $Score -= $Penalty
        $Issues += [PSCustomObject]@{
            Type = "WARNING"
            Category = "Tags incohÃ©rents"
            Count = $SimilarTags.Count
            Penalty = $Penalty
            Fix = "/obs-tags merge"
        }
    }
    
    # 4. Frontmatter manquant
    $NoFrontmatter = $Notes | Where-Object {
        $Content = Get-Content $_.FullName -Raw -ErrorAction SilentlyContinue
        $Content -and $Content -notmatch '^---\s*\r?\n'
    }
    if ($NoFrontmatter.Count -gt 0 -and $NoFrontmatter.Count -gt ($Notes.Count * 0.1)) {
        $Penalty = [Math]::Min([Math]::Floor($NoFrontmatter.Count / 5), 10)
        $Score -= $Penalty
        $Issues += [PSCustomObject]@{
            Type = "INFO"
            Category = "Frontmatter manquant"
            Count = $NoFrontmatter.Count
            Penalty = $Penalty
            Fix = "/obs-frontmatter add"
        }
    }
    
    # 5. Notes vides
    $EmptyNotes = $Notes | Where-Object {
        $Content = Get-Content $_.FullName -Raw -ErrorAction SilentlyContinue
        !$Content -or $Content.Trim().Length -lt 10
    }
    if ($EmptyNotes.Count -gt 0) {
        $Penalty = [Math]::Min($EmptyNotes.Count * 2, 10)
        $Score -= $Penalty
        $Issues += [PSCustomObject]@{
            Type = "WARNING"
            Category = "Notes vides"
            Count = $EmptyNotes.Count
            Penalty = $Penalty
            Fix = "/obs-empty"
        }
    }
    
    # === AFFICHAGE ===
    $Score = [Math]::Max($Score, 0)
    $BarLength = [Math]::Floor($Score / 2.5)
    $Bar = "â–ˆ" * $BarLength + "â–‘" * (40 - $BarLength)
    
    $ScoreColor = switch ($Score) {
        { $_ -ge 80 } { "Green" }
        { $_ -ge 60 } { "Yellow" }
        default { "Red" }
    }
    
    Write-Host "  SCORE GLOBAL: $Score/100" -ForegroundColor $ScoreColor
    Write-Host "  $Bar" -ForegroundColor $ScoreColor
    Write-Host ""
    
    Write-Host "  ğŸ“Š STATISTIQUES:" -ForegroundColor Yellow
    Write-Host "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
    Write-Host "  â”‚ Notes totales       : $($Stats.TotalNotes.ToString().PadLeft(6))"
    Write-Host "  â”‚ Mots totaux         : $($Stats.TotalWords.ToString('N0').PadLeft(6))"
    Write-Host "  â”‚ Liens internes      : $($Stats.TotalLinks.ToString().PadLeft(6))"
    Write-Host "  â”‚ Tags uniques        : $(($UniqueTags.Count).ToString().PadLeft(6))"
    Write-Host "  â”‚ Attachments         : $($Stats.TotalAttachments.ToString().PadLeft(6))"
    Write-Host "  â”‚ Taille vault        : $('{0:N1} MB' -f ($Stats.TotalSize / 1MB))"
    Write-Host "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
    Write-Host ""
    
    if ($Issues.Count -gt 0) {
        Write-Host "  ğŸ” PROBLÃˆMES DÃ‰TECTÃ‰S:" -ForegroundColor Yellow
        Write-Host "  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
        foreach ($Issue in $Issues | Sort-Object { $_.Type }) {
            $Icon = switch ($Issue.Type) {
                "ERROR" { "âŒ" }
                "WARNING" { "âš ï¸" }
                default { "â„¹ï¸" }
            }
            Write-Host "  â”‚ $Icon $($Issue.Category.PadRight(20)) : $($Issue.Count.ToString().PadLeft(3)) (-$($Issue.Penalty) pts)"
        }
        Write-Host "  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
        Write-Host ""
        
        Write-Host "  ğŸ’¡ RECOMMANDATIONS:" -ForegroundColor Yellow
        foreach ($Issue in $Issues | Sort-Object Penalty -Descending | Select-Object -First 3) {
            Write-Host "  â†’ $($Issue.Fix)" -ForegroundColor Cyan
        }
    } else {
        Write-Host "  âœ… Aucun problÃ¨me dÃ©tectÃ© !" -ForegroundColor Green
    }
    
    $Duration = (Get-Date) - $StartTime
    Write-Host "`n  â±ï¸ Analyse terminÃ©e en $($Duration.TotalSeconds.ToString('N1'))s" -ForegroundColor DarkGray
    
    return @{
        Score = $Score
        Stats = $Stats
        Issues = $Issues
        BrokenLinks = $BrokenLinks
        Orphans = $Orphans
    }
}
```

## Options

| Option | Description |
|--------|-------------|
| `--quick` | Analyse rapide (stats de base) |
| `--report` | GÃ©nÃ©rer rapport Markdown |
| `--output=file` | Fichier de sortie pour rapport |
| `--json` | Sortie JSON |
| `--fix` | Proposer corrections automatiques |

## Exemples

```powershell
# Analyse complÃ¨te
/obs-health

# Check rapide
/obs-health --quick

# GÃ©nÃ©rer rapport
/obs-health --report --output="vault-health.md"

# Analyse d'un vault spÃ©cifique
/obs-health --vault="D:\Obsidian\Work"
```
