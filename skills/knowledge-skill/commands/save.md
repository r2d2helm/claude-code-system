# Commande: /know-save

Sauvegarder et r√©sumer la conversation actuelle.

## Syntaxe

```
/know-save [options]
```

## Modes de Sauvegarde

### /know-save (automatique)

Analyse et sauvegarde automatique de la conversation :

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë           üß† CAPTURE DE CONVERSATION                         ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                                              ‚ïë
‚ïë  üìä ANALYSE DE LA CONVERSATION:                              ‚ïë
‚ïë  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚ïë
‚ïë  ‚îÇ Messages analys√©s  : 24                                 ‚îÇ ‚ïë
‚ïë  ‚îÇ Dur√©e estim√©e      : 45 minutes                         ‚îÇ ‚ïë
‚ïë  ‚îÇ Sujets d√©tect√©s    : 3                                  ‚îÇ ‚ïë
‚ïë  ‚îÇ Code extrait       : 5 blocs                            ‚îÇ ‚ïë
‚ïë  ‚îÇ D√©cisions prises   : 2                                  ‚îÇ ‚ïë
‚ïë  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚ïë
‚ïë                                                              ‚ïë
‚ïë  üìù R√âSUM√â G√âN√âR√â:                                           ‚ïë
‚ïë  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚ïë
‚ïë  ‚îÇ Titre: Configuration Super Agent Windows                ‚îÇ ‚ïë
‚ïë  ‚îÇ                                                         ‚îÇ ‚ïë
‚ïë  ‚îÇ Discussion sur la cr√©ation d'un agent Windows pour      ‚îÇ ‚ïë
‚ïë  ‚îÇ Claude Code avec 36 commandes PowerShell et 10 wizards. ‚îÇ ‚ïë
‚ïë  ‚îÇ Installation et test du syst√®me de routing automatique. ‚îÇ ‚ïë
‚ïë  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚ïë
‚ïë                                                              ‚ïë
‚ïë  üè∑Ô∏è TAGS SUGG√âR√âS:                                           ‚ïë
‚ïë  #dev/claude-code #infra/windows #projet/multipass          ‚ïë
‚ïë  #skill #powershell #automation                              ‚ïë
‚ïë                                                              ‚ïë
‚ïë  [1] Sauvegarder  [2] Modifier  [3] Ajouter tags             ‚ïë
‚ïë                                                              ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

**Script PowerShell:**
```powershell
param(
    [string]$KnowledgePath = "$env:USERPROFILE\Documents\Knowledge",
    [string]$Title,
    [string[]]$Tags,
    [switch]$AutoExtract
)

$Date = Get-Date -Format "yyyy-MM-dd"
$Time = Get-Date -Format "HHmmss"
$ID = "$Date-$Time"

# Cr√©er structure si n√©cessaire
$Folders = @(
    "Conversations",
    "Concepts", 
    "Code",
    "_Index",
    "_Daily",
    "_Inbox"
)
foreach ($Folder in $Folders) {
    $Path = Join-Path $KnowledgePath $Folder
    if (!(Test-Path $Path)) {
        New-Item -ItemType Directory -Path $Path -Force | Out-Null
    }
}

# G√©n√©rer fichier de conversation
$FileName = "{0}_Conv_{1}.md" -f $Date, ($Title -replace '\s+', '-' -replace '[^\w\-]', '')
$FilePath = Join-Path $KnowledgePath "Conversations\$FileName"

$TagsYaml = ($Tags | ForEach-Object { "`"$_`"" }) -join ", "

$Content = @"
---
id: $ID
title: $Title
date: $Date
type: conversation
tags: [$TagsYaml]
source: Claude
status: captured
related: []
---

# $Title

## R√©sum√©
{√Ä compl√©ter - r√©sum√© de la conversation}

## Points Cl√©s
- 
- 
- 

## D√©cisions Prises
- [ ] 

## Code/Commandes Extraits
``````powershell
# Code extrait de la conversation
``````

## Concepts Li√©s
- [[]]

## Actions Suivantes
- [ ] 

## Notes Additionnelles


---
*Captur√© le $Date depuis conversation Claude*
"@

$Content | Out-File -FilePath $FilePath -Encoding UTF8
Write-Host "‚úÖ Conversation sauvegard√©e: $FilePath"

# Mettre √† jour Daily Note
$DailyPath = Join-Path $KnowledgePath "_Daily\$Date.md"
if (!(Test-Path $DailyPath)) {
    $DailyContent = @"
---
date: $Date
type: daily
tags: [daily]
---

# üìÖ $Date

## Conversations du Jour
"@
    $DailyContent | Out-File -FilePath $DailyPath -Encoding UTF8
}

# Ajouter lien dans Daily
Add-Content -Path $DailyPath -Value "- [[$FileName]]"
```

### /know-save --quick "titre"

Sauvegarde rapide avec titre :

```powershell
/know-save --quick "Configuration Proxmox HA"
```

```
‚úÖ Sauvegard√©: 2026-02-04_Conv_Configuration-Proxmox-HA.md
   Tags auto: #proxmox #ha #configuration
   Lien ajout√© √† Daily Note
```

### /know-save --full

Sauvegarde compl√®te avec extraction automatique :

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë           üß† CAPTURE COMPL√àTE                                ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë                                                              ‚ïë
‚ïë  üìÅ FICHIERS CR√â√âS:                                          ‚ïë
‚ïë  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚ïë
‚ïë  ‚îÇ ‚úì Conversations\2026-02-04_Conv_Windows-Agent.md        ‚îÇ ‚ïë
‚ïë  ‚îÇ ‚úì Code\PowerShell\2026-02-04_Install-Skills.ps1         ‚îÇ ‚ïë
‚ïë  ‚îÇ ‚úì Code\PowerShell\2026-02-04_Organize-Files.ps1         ‚îÇ ‚ïë
‚ïë  ‚îÇ ‚úì Concepts\C_Meta-Router-Pattern.md                     ‚îÇ ‚ïë
‚ïë  ‚îÇ ‚úì Concepts\C_Skill-Structure.md                         ‚îÇ ‚ïë
‚ïë  ‚îÇ ‚úì _Daily\2026-02-04.md (mis √† jour)                     ‚îÇ ‚ïë
‚ïë  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚ïë
‚ïë                                                              ‚ïë
‚ïë  üìä EXTRACTION:                                              ‚ïë
‚ïë  ‚Ä¢ 5 blocs de code ‚Üí Code/PowerShell/                        ‚ïë
‚ïë  ‚Ä¢ 2 concepts identifi√©s ‚Üí Concepts/                         ‚ïë
‚ïë  ‚Ä¢ 3 d√©cisions ‚Üí Section D√©cisions                           ‚ïë
‚ïë  ‚Ä¢ 12 tags appliqu√©s                                         ‚ïë
‚ïë                                                              ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

### /know-save --template {template}

Utiliser un template sp√©cifique :

```powershell
/know-save --template meeting     # Pour r√©union
/know-save --template debug       # Pour session debug
/know-save --template learning    # Pour apprentissage
/know-save --template project     # Pour projet
```

## Extraction Automatique

### √âl√©ments D√©tect√©s

| √âl√©ment | Pattern | Action |
|---------|---------|--------|
| Code PowerShell | ` ```powershell ` | Extrait vers `Code/PowerShell/` |
| Code Python | ` ```python ` | Extrait vers `Code/Python/` |
| Commandes | `/command` | Liste dans section Commandes |
| URLs | `http(s)://` | Liste dans R√©f√©rences |
| D√©cisions | "d√©cid√©", "choisi" | Section D√©cisions |
| TODOs | "√† faire", "todo" | Section Actions |

### Script d'Extraction

```powershell
function Extract-ConversationElements {
    param([string]$Content)
    
    $Elements = @{
        Code = @()
        URLs = @()
        Decisions = @()
        Actions = @()
        Concepts = @()
    }
    
    # Extraire blocs de code
    $CodePattern = '```(\w+)\r?\n([\s\S]*?)```'
    $Matches = [regex]::Matches($Content, $CodePattern)
    foreach ($Match in $Matches) {
        $Elements.Code += @{
            Language = $Match.Groups[1].Value
            Content = $Match.Groups[2].Value
        }
    }
    
    # Extraire URLs
    $URLPattern = 'https?://[^\s\)\]>]+'
    $Elements.URLs = [regex]::Matches($Content, $URLPattern) | 
        ForEach-Object { $_.Value } | 
        Select-Object -Unique
    
    # D√©tecter d√©cisions
    $DecisionPatterns = @("d√©cid√©", "choisi", "opt√© pour", "on va utiliser")
    foreach ($Pattern in $DecisionPatterns) {
        $Lines = $Content -split "`n" | Where-Object { $_ -match $Pattern }
        $Elements.Decisions += $Lines
    }
    
    # D√©tecter actions
    $ActionPatterns = @("√† faire", "todo", "prochaine √©tape", "il faut")
    foreach ($Pattern in $ActionPatterns) {
        $Lines = $Content -split "`n" | Where-Object { $_ -match $Pattern }
        $Elements.Actions += $Lines
    }
    
    return $Elements
}
```

## Options

| Option | Description |
|--------|-------------|
| `--quick "titre"` | Sauvegarde rapide avec titre |
| `--full` | Extraction compl√®te automatique |
| `--template=name` | Utiliser template sp√©cifique |
| `--tags=t1,t2` | Ajouter tags manuels |
| `--project=name` | Associer √† un projet |
| `--no-daily` | Ne pas mettre √† jour Daily Note |
| `--dry-run` | Pr√©visualiser sans cr√©er |

## Exemples

```powershell
# Sauvegarde rapide
/know-save --quick "Debug API Proxmox"

# Sauvegarde compl√®te avec tags
/know-save --full --tags="#proxmox,#api,#debug"

# Associer √† un projet
/know-save --project="MultiPass" --full

# Pr√©visualiser
/know-save --dry-run
```
